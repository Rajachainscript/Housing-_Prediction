# -*- coding: utf-8 -*-
"""housing_predection.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1GYLsNgYGl4Iur14bvmnSfu3Tos1TPpzs
"""

#house prediction

import pandas as pd
import matplotlib.pyplot as plt

df = pd.read_csv('Housing.csv')

df.head()

df.tail(10)

df.describe()

df.info()

df.isna()

df.head()

list1 = ['mainroad', 'guestroom', 'basement', 'hotwaterheating', 'airconditioning', 'prefarea' ]

df[list1] = df[list1].replace({'yes':1,'no':0})

df.head()

df['furnishingstatus'].nunique()

df['furnishingstatus'] = df['furnishingstatus'].replace({'furnished':1, 'semi-furnished':2,'unfurnished':3 })



df.head()

from sklearn.preprocessing import StandardScaler

scalar = StandardScaler()

list2 = ['price','area']

df[list2] = scalar.fit_transform(df[list2])

df.head()

df.dtypes

df_encoded = pd.get_dummies(df, drop_first=True)



core = df.corr()

import matplotlib.pyplot as plt
import seaborn as sns

plt.figure(figsize=(10,10))
sns.heatmap(core,annot=True,cmap='coolwarm')
plt.show()

df.hist(figsize=(10,10),bins=10)
plt.show()

x = df.drop("price",axis=1)
y = df["price"]

x

y

#use Linear Regression
from sklearn.model_selection import train_test_split
from sklearn.linear_model import LinearRegression
from sklearn.metrics import r2_score

x = df_encoded.drop("price", axis=1)
y = df_encoded["price"]
x_train, x_test, y_train, y_test = train_test_split(x, y, test_size=0.2, random_state=42)



lr = LinearRegression()
lr.fit(x_train,y_train)

y_predict = lr.predict(x_test)

ir_accuarcy = r2_score(y_test,y_predict)

ir_accuarcy